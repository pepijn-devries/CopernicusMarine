<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Subset and download a specific marine product from Copernicus — cms_download_subset • CopernicusMarine</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Subset and download a specific marine product from Copernicus — cms_download_subset"><meta name="description" content=" Subset and download a specific marine product
from Copernicus."><meta property="og:description" content=" Subset and download a specific marine product
from Copernicus."><meta property="og:image" content="https://pepijn-devries.github.io/CopernicusMarine/logo.svg"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">CopernicusMarine</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.2.0003</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/translate.html">Translate Request</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/pepijn-devries/CopernicusMarine/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Subset and download a specific marine product from Copernicus</h1>
      <small class="dont-index">Source: <a href="https://github.com/pepijn-devries/CopernicusMarine/blob/master/R/cms_download_subset.r" class="external-link"><code>R/cms_download_subset.r</code></a></small>
      <div class="d-none name"><code>cms_download_subset.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="figures/lifecycle-experimental.svg" alt="[Experimental]"></a> Subset and download a specific marine product
from Copernicus.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">cms_download_subset</span><span class="op">(</span></span>
<span>  username <span class="op">=</span> <span class="fu"><a href="account.html">cms_get_username</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  password <span class="op">=</span> <span class="fu"><a href="account.html">cms_get_password</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="va">destination</span>,</span>
<span>  <span class="va">product</span>,</span>
<span>  <span class="va">layer</span>,</span>
<span>  <span class="va">variable</span>,</span>
<span>  <span class="va">region</span>,</span>
<span>  <span class="va">timerange</span>,</span>
<span>  <span class="va">verticalrange</span>,</span>
<span>  overwrite <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  progress <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  crop <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">asset</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-username">username<a class="anchor" aria-label="anchor" href="#arg-username"></a></dt>
<dd><p>Your Copernicus marine user name. Can be provided with
<code><a href="account.html">cms_get_username()</a></code> (default), or as argument here.</p></dd>


<dt id="arg-password">password<a class="anchor" aria-label="anchor" href="#arg-password"></a></dt>
<dd><p>Your Copernicus marine password. Can be provided as
<code><a href="account.html">cms_get_password()</a></code> (default), or as argument here.</p></dd>


<dt id="arg-destination">destination<a class="anchor" aria-label="anchor" href="#arg-destination"></a></dt>
<dd><p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated" class="external-link"><img src="figures/lifecycle-deprecated.svg" alt="[Deprecated]"></a> This argument is deprecated.
Data is no longer written to a file but loaded as a <code><a href="https://r-spatial.github.io/stars/reference/st_as_stars.html" class="external-link">stars::st_as_stars()</a></code> object
into memory.</p></dd>


<dt id="arg-product">product<a class="anchor" aria-label="anchor" href="#arg-product"></a></dt>
<dd><p>An identifier (type <code>character</code>) of the desired Copernicus marine product.
Can be obtained with <code><a href="cms_products_list.html">cms_products_list</a></code>.</p></dd>


<dt id="arg-layer">layer<a class="anchor" aria-label="anchor" href="#arg-layer"></a></dt>
<dd><p>The name of a desired layer within a product (type <code>character</code>). Can be obtained with <code><a href="cms_product_details.html">cms_product_details</a></code>.</p></dd>


<dt id="arg-variable">variable<a class="anchor" aria-label="anchor" href="#arg-variable"></a></dt>
<dd><p>The name of a desired variable in a specific layer of a product (type <code>character</code>).
Can be obtained with <code><a href="cms_product_details.html">cms_product_details</a></code>.</p></dd>


<dt id="arg-region">region<a class="anchor" aria-label="anchor" href="#arg-region"></a></dt>
<dd><p>Specification of the bounding box as a <code>vector</code> of <code>numeric</code>s WGS84 lat and lon coordinates.
Should be in the order of: xmin, ymin, xmax, ymax.</p></dd>


<dt id="arg-timerange">timerange<a class="anchor" aria-label="anchor" href="#arg-timerange"></a></dt>
<dd><p>A <code>vector</code> with two elements (lower and upper value)
for a requested time range. The <code>vector</code> should be coercible to <code>POSIXct</code>.</p></dd>


<dt id="arg-verticalrange">verticalrange<a class="anchor" aria-label="anchor" href="#arg-verticalrange"></a></dt>
<dd><p>A <code>vector</code> with two elements (minimum and maximum)
numerical values for the depth of the vertical layers (if any). Note that values below the
sea surface needs to be specified as negative values.</p></dd>


<dt id="arg-overwrite">overwrite<a class="anchor" aria-label="anchor" href="#arg-overwrite"></a></dt>
<dd><p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated" class="external-link"><img src="figures/lifecycle-deprecated.svg" alt="[Deprecated]"></a> This argument is deprecated.
Data is no longer written to a file but loaded as a <code><a href="https://r-spatial.github.io/stars/reference/st_as_stars.html" class="external-link">stars::st_as_stars()</a></code> object
into memory.</p></dd>


<dt id="arg-progress">progress<a class="anchor" aria-label="anchor" href="#arg-progress"></a></dt>
<dd><p>A logical value. When <code>TRUE</code> (default) progress is reported to the console.
Otherwise, this function will silently proceed.</p></dd>


<dt id="arg-crop">crop<a class="anchor" aria-label="anchor" href="#arg-crop"></a></dt>
<dd><p>On the server, the data is organised in chunks. The subset
will download chunks that overlap with the specified ranges, but often
covers a larger area. When <code>crop = TRUE</code> (default), the data will be cropped
to the specified <code>region</code>. If set to <code>FALSE</code> all downloaded data will be returned.</p></dd>


<dt id="arg-asset">asset<a class="anchor" aria-label="anchor" href="#arg-asset"></a></dt>
<dd><p>Type of asset to be used when subsetting data. Should be one
of <code>"default"</code>, <code>"ARCO"</code>, <code>"static"</code>, <code>"omi"</code>, or <code>"downsampled4"</code>.
When missing, set to <code>NULL</code> or set to <code>"default"</code>, it will use the first
asset available for the requested product and layer, in the order as listed
before.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Ignored (reserved for future features).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Returns a <code><a href="https://r-spatial.github.io/stars/reference/st_as_stars.html" class="external-link">stars::st_as_stars()</a></code> object.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Pepijn de Vries</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span> <span class="op">&amp;&amp;</span> <span class="fu"><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">requireNamespace</a></span><span class="op">(</span><span class="st">"blosc"</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="va">mydata</span> <span class="op">&lt;-</span> <span class="fu">cms_download_subset</span><span class="op">(</span></span></span>
<span class="r-in"><span>    product       <span class="op">=</span> <span class="st">"GLOBAL_ANALYSISFORECAST_PHY_001_024"</span>,</span></span>
<span class="r-in"><span>    layer         <span class="op">=</span> <span class="st">"cmems_mod_glo_phy-cur_anfc_0.083deg_P1D-m"</span>,</span></span>
<span class="r-in"><span>    variable      <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"uo"</span>, <span class="st">"vo"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    region        <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1</span>, <span class="fl">50</span>, <span class="fl">10</span>, <span class="fl">55</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    timerange     <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2025-01-01 UTC"</span>, <span class="st">"2025-01-02 UTC"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    verticalrange <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="op">-</span><span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">mydata</span><span class="op">[</span><span class="st">"vo"</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">message</a></span><span class="op">(</span><span class="st">"Make sure to run this in an interactive environment"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">message</a></span><span class="op">(</span><span class="st">"and that the package 'blosc' is installed"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Make sure to run this in an interactive environment</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> and that the package 'blosc' is installed</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Pepijn de Vries.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

